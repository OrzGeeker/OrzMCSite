<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>服务器地图大小限制 | Joker@Minecraft 🇨🇳</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="运营一个PaperMC服务器，地图占用磁盘空间的大小，会随着玩家跑图越来越大。服务器需要定期备份地图，以防恶意玩家破坏服务器。不断增加的地图磁盘空间占用，对定期备份造成了比较大的影响。本文讨论一种可行的服务器地图备份时的磁盘占用优化方案。"><meta name=generator content="Hugo 0.147.9"><meta name=robots content="index, follow"><link rel=stylesheet href=/ananke/css/main.min.a8589ca0d129d5122c85e12d67656aa8f0ebbcb277d2f22627b44877ab2661c9.css><link rel="shortcut icon" href=/images/favicon.png type=image/x-icon><link rel=canonical href=https://minecraft.jokerhub.cn/posts/3.other/31.worldsize/><meta property="og:url" content="https://minecraft.jokerhub.cn/posts/3.other/31.worldsize/"><meta property="og:site_name" content="Joker@Minecraft 🇨🇳"><meta property="og:title" content="服务器地图大小限制"><meta property="og:description" content="运营一个PaperMC服务器，地图占用磁盘空间的大小，会随着玩家跑图越来越大。服务器需要定期备份地图，以防恶意玩家破坏服务器。不断增加的地图磁盘空间占用，对定期备份造成了比较大的影响。本文讨论一种可行的服务器地图备份时的磁盘占用优化方案。"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta itemprop=name content="服务器地图大小限制"><meta itemprop=description content="运营一个PaperMC服务器，地图占用磁盘空间的大小，会随着玩家跑图越来越大。服务器需要定期备份地图，以防恶意玩家破坏服务器。不断增加的地图磁盘空间占用，对定期备份造成了比较大的影响。本文讨论一种可行的服务器地图备份时的磁盘占用优化方案。"><meta itemprop=wordCount content="1166"><meta name=twitter:card content="summary"><meta name=twitter:title content="服务器地图大小限制"><meta name=twitter:description content="运营一个PaperMC服务器，地图占用磁盘空间的大小，会随着玩家跑图越来越大。服务器需要定期备份地图，以防恶意玩家破坏服务器。不断增加的地图磁盘空间占用，对定期备份造成了比较大的影响。本文讨论一种可行的服务器地图备份时的磁盘占用优化方案。"></head><body class="ma0 avenir bg-near-white production"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l center items-center justify-between"><a href=/ class="f3 fw3 hover-white white-90 dib no-underline">Joker@Minecraft 🇨🇳</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white white-90 no-underline" href=/ title>主页</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white white-90 no-underline" href=/client/ title>客户端</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white white-90 no-underline" href=/user/ title>玩家手册</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white white-90 no-underline" href=/plugin/ title>自研插件</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white white-90 no-underline" href=/sponsor/ title>捐赠</a></li></ul><div class=ananke-socials><a href=https://pd.qq.com/s/9zuis6m4v target=_blank rel=noopener class="ananke-social-link link-transition qq link dib z-999 pt3 pt0-l mr1" title="follow on QQ - Opens in a new window" aria-label="follow on QQ - Opens in a new window"><span class=icon><svg viewBox="0 0 448 512"><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741.0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792.0.0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z"/></svg>
</span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg>
</span></a><a href=https://discord.gg/9JAb9vpvUE target=_blank rel=noopener class="ananke-social-link link-transition discord link dib z-999 pt3 pt0-l mr1" title="follow on Discord - Opens in a new window" aria-label="follow on Discord - Opens in a new window"><span class=icon><svg viewBox="0 0 640 512"><path d="M524.531 69.836a1.5 1.5.0 00-.764-.7A485.065 485.065.0 00404.081 32.03a1.816 1.816.0 00-1.923.91 337.461 337.461.0 00-14.9 30.6 447.848 447.848.0 00-134.426.0 309.541 309.541.0 00-15.135-30.6 1.89 1.89.0 00-1.924-.91A483.689 483.689.0 00116.085 69.137a1.712 1.712.0 00-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016.0 00.765 1.375A487.666 487.666.0 00176.02 479.918a1.9 1.9.0 002.063-.676A348.2 348.2.0 00208.12 430.4a1.86 1.86.0 00-1.019-2.588 321.173 321.173.0 01-45.868-21.853 1.885 1.885.0 01-.185-3.126c3.082-2.309 6.166-4.711 9.109-7.137a1.819 1.819.0 011.9-.256c96.229 43.917 200.41 43.917 295.5.0a1.812 1.812.0 011.924.233c2.944 2.426 6.027 4.851 9.132 7.16a1.884 1.884.0 01-.162 3.126 301.407 301.407.0 01-45.89 21.83 1.875 1.875.0 00-1 2.611 391.055 391.055.0 0030.014 48.815 1.864 1.864.0 002.063.7A486.048 486.048.0 00610.7 405.729a1.882 1.882.0 00.765-1.352C623.729 277.594 590.933 167.465 524.531 69.836zM222.491 337.58c-28.972.0-52.844-26.587-52.844-59.239S193.056 219.1 222.491 219.1c29.665.0 53.306 26.82 52.843 59.239.0 32.654-23.41 59.241-52.843 59.241zm195.38.0c-28.971.0-52.843-26.587-52.843-59.239S388.437 219.1 417.871 219.1c29.667.0 53.307 26.82 52.844 59.239.0 32.654-23.177 59.241-52.844 59.241z"/></svg>
</span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg>
</span></a><a href=https://space.bilibili.com/93811391 target=_blank rel=noopener class="ananke-social-link link-transition bilibili link dib z-999 pt3 pt0-l mr1" title="follow on BiliBili - Opens in a new window" aria-label="follow on BiliBili - Opens in a new window"><span class=icon><svg viewBox="0 0 512 512"><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7V372.2C511.5 398.6 502.7 420.3 485.4 437.3c-17.2 17-39.1 25.9-65.5 26.7H92.02C65.57 463.2 43.81 454.2 26.74 436.8 9.682 419.4.7667 396.5.0 368.2V169.8c.7667-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78H121.4L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79.0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1.0 117.9.0c8.8.0 16.1 2.868 21.9 8.603L213.1 78h88L375.6 8.603C381.7 2.868 389.2.0 398 0s16.1 2.868 21.9 8.603C425.6 14.34 428.5 21.6 428.5 30.4 428.5 39.19 425.6 46.46 419.9 52.19L394.6 78h29.3C450.3 78.77 471.9 87.75 488.6 104.1h0zm-38.8 69.7C449.4 164.2 446.1 156.4 439.1 150.3 433.9 144.2 425.1 140.9 416.4 140.5H96.05C86.46 140.9 78.6 144.2 72.47 150.3 66.33 156.4 63.07 164.2 62.69 173.8V368.2C62.69 377.4 65.95 385.2 72.47 391.7S86.85 401.5 96.05 401.5H416.4C425.6 401.5 433.4 398.2 439.7 391.7S449.4 377.4 449.8 368.2V173.8zM185.5 216.5C191.8 222.8 195.2 230.6 195.6 239.7V273C195.2 282.2 191.9 289.9 185.8 296.2 179.6 302.5 171.8 305.7 162.2 305.7 152.6 305.7 144.7 302.5 138.6 296.2S129.2 282.2 128.8 273V239.7C129.2 230.6 132.6 222.8 138.9 216.5 145.2 210.2 152.1 206.9 162.2 206.5 171.4 206.9 179.2 210.2 185.5 216.5h0zm191.5.0C383.3 222.8 386.7 230.6 387.1 239.7V273C386.7 282.2 383.4 289.9 377.3 296.2 371.2 302.5 363.3 305.7 353.7 305.7 344.1 305.7 336.3 302.5 330.1 296.2 323.1 289.9 320.7 282.2 320.4 273V239.7C320.7 230.6 324.1 222.8 330.4 216.5 336.7 210.2 344.5 206.9 353.7 206.5 362.9 206.9 370.7 210.2 377 216.5h0z"/></svg>
</span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg>
</span></a><a href=https://www.youtube.com/@OrzGeeker5382 target=_blank rel=noopener class="ananke-social-link link-transition youtube link dib z-999 pt3 pt0-l mr1" title="follow on YouTube - Opens in a new window" aria-label="follow on YouTube - Opens in a new window"><span class=icon><svg viewBox="0 0 576 512"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78.0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
</span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg>
</span></a><a href=https://x.com/OrzGeeker target=_blank rel=noopener class="ananke-social-link link-transition x-twitter link dib z-999 pt3 pt0-l mr1" title="follow on X - Opens in a new window" aria-label="follow on X - Opens in a new window"><span class=icon><svg viewBox="0 0 512 512"><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg>
</span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg>
</span></a><a href=https://github.com/OrzGeeker/OrzMC/ target=_blank rel=noopener class="ananke-social-link link-transition github link dib z-999 pt3 pt0-l mr1" title="follow on GitHub - Opens in a new window" aria-label="follow on GitHub - Opens in a new window"><span class=icon><svg viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a></div></div></div></nav></div></header><main class=pb7 role=main><article class="pa3 pa4-ns nested-copy-line-height"><nav class="f6 silver pv2 ph3 ph4-ns" role=navigation aria-label=面包屑导航><a class="link silver hover-mid-gray" href=/>主页</a>
<span class=mh1>›</span>
<a class="link silver hover-mid-gray" href=/>❤️‍🔥 我的世界</a>
<span class=mh1>›</span>
<a class="link silver hover-mid-gray" href=/posts/>文章</a>
<span class=mh1>›</span>
<span aria-current=page>服务器地图大小限制</span></nav><div class="ph3 ph5-l pv3 pv4-l flex-l mw8 center"><aside class="dn db-l w-30-l pr4-l order-1 toc-sticky"><nav class="ba b--black-10 br2 bg-near-white pa3" role=navigation aria-label=目录 aria-labelledby=toc-title><h2 id=toc-title class="f6 silver mb2">目录</h2><nav id=TableOfContents><ul><li><a href=#地图文件夹的目录结构>地图文件夹的目录结构</a><ul><li><a href=#vanilla-服务端的地图目录结构>Vanilla 服务端的地图目录结构</a></li><li><a href=#papermc服务端的地图目录结构>PaperMC服务端的地图目录结构</a></li></ul></li><li><a href=#如何计算服务器地图占用磁盘的大小>如何计算服务器地图占用磁盘的大小</a></li><li><a href=#地图备份文件占用磁盘太大解决方案>地图备份文件占用磁盘太大解决方案</a></li></ul></nav></nav></aside><div class="dn-l mb3"><details class="ba b--black-10 br2 bg-near-white pa3"><summary class="fw5 pointer">目录</summary><nav class="ba b--black-10 br2 bg-near-white pa3" role=navigation aria-label=目录 aria-labelledby=toc-title><h2 id=toc-title class="f6 silver mb2">目录</h2><nav id=TableOfContents><ul><li><a href=#地图文件夹的目录结构>地图文件夹的目录结构</a><ul><li><a href=#vanilla-服务端的地图目录结构>Vanilla 服务端的地图目录结构</a></li><li><a href=#papermc服务端的地图目录结构>PaperMC服务端的地图目录结构</a></li></ul></li><li><a href=#如何计算服务器地图占用磁盘的大小>如何计算服务器地图占用磁盘的大小</a></li><li><a href=#地图备份文件占用磁盘太大解决方案>地图备份文件占用磁盘太大解决方案</a></li></ul></nav></nav></details></div><section class="w-70-l order-2 f5 center measure-wide lh-copy nested-links mid-gray"><header class=mb3><h1 class="f1 fw6 lh-title">服务器地图大小限制</h1></header><hr><h2 id=地图文件夹的目录结构 class=relative>地图文件夹的目录结构<a href=#%e5%9c%b0%e5%9b%be%e6%96%87%e4%bb%b6%e5%a4%b9%e7%9a%84%e7%9b%ae%e5%bd%95%e7%bb%93%e6%9e%84 aria-label=链接到本节 class="anchor-link ml2 gray hover-dark-gray">🔗</a></h2><h3 id=vanilla-服务端的地图目录结构 class=relative>Vanilla 服务端的地图目录结构<a href=#vanilla-%e6%9c%8d%e5%8a%a1%e7%ab%af%e7%9a%84%e5%9c%b0%e5%9b%be%e7%9b%ae%e5%bd%95%e7%bb%93%e6%9e%84 aria-label=链接到本节 class="anchor-link ml2 gray hover-dark-gray">🔗</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash></code></pre></div><p>一个典型的Java版世界存档文件夹内通常包含以下重要内容：</p><ul><li>level.dat: 这个文件存储了该世界的全局核心信息，如世界名称、种子、游戏时间、天气周期等。</li><li>region/: 这个文件夹储存了主世界的区块数据（.mca文件），每个文件包含32x32个区块。</li><li>DIM-1/: 这是下界（地狱） 维度的数据文件夹，其内部也包含相应的 region 等文件夹。</li><li>DIM1/: 这是末地维度的数据文件夹。</li><li>playerdata/: 存储玩家的数据信息，例如血量、经验值、物品栏等。</li><li>data/: 存储一些其他世界数据，如村民信息、地图数据等。</li><li>advancements/: 存储玩家的成就进度数据。</li><li>stats/: 存储玩家在此世界的统计信息。</li><li>poi/: （1.14+）存储世界内与村民工作站及探索点相关的数据。</li></ul><h3 id=papermc服务端的地图目录结构 class=relative>PaperMC服务端的地图目录结构<a href=#papermc%e6%9c%8d%e5%8a%a1%e7%ab%af%e7%9a%84%e5%9c%b0%e5%9b%be%e7%9b%ae%e5%bd%95%e7%bb%93%e6%9e%84 aria-label=链接到本节 class="anchor-link ml2 gray hover-dark-gray">🔗</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#6272a4># 主世界</span>
</span></span><span style=display:flex><span>world
</span></span><span style=display:flex><span>├── advancements
</span></span><span style=display:flex><span>├── data
</span></span><span style=display:flex><span>├── datapacks
</span></span><span style=display:flex><span>├── entities
</span></span><span style=display:flex><span>├── generated
</span></span><span style=display:flex><span>├── playerdata
</span></span><span style=display:flex><span>├── poi
</span></span><span style=display:flex><span>├── region
</span></span><span style=display:flex><span>└── stats
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># 下界</span>
</span></span><span style=display:flex><span>world_nether
</span></span><span style=display:flex><span>├── data
</span></span><span style=display:flex><span>└── DIM-1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># 终末之地</span>
</span></span><span style=display:flex><span>world_the_end
</span></span><span style=display:flex><span>├── data
</span></span><span style=display:flex><span>└── DIM1
</span></span></code></pre></div><hr><h2 id=如何计算服务器地图占用磁盘的大小 class=relative>如何计算服务器地图占用磁盘的大小<a href=#%e5%a6%82%e4%bd%95%e8%ae%a1%e7%ae%97%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%9c%b0%e5%9b%be%e5%8d%a0%e7%94%a8%e7%a3%81%e7%9b%98%e7%9a%84%e5%a4%a7%e5%b0%8f aria-label=链接到本节 class="anchor-link ml2 gray hover-dark-gray">🔗</a></h2><p>默认情况下，minecraft 服务器配置文件<code>server.properties</code>中指定：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>max-world-size<span style=color:#ff79c6>=</span><span style=color:#bd93f9>29999984</span> <span style=color:#6272a4># 单位为方块，表示地图的最大半径</span>
</span></span><span style=display:flex><span>max-build-height<span style=color:#ff79c6>=</span><span style=color:#bd93f9>256</span>    <span style=color:#6272a4># 单位为方块，表示地图的最大高度</span>
</span></span></code></pre></div><p>Minecraft地图是正方形的，是按 <strong>区块(block)</strong> 为单位进行存储的，一个区块的默认尺寸为: 16x16x256(长x宽x高)。也就是说一个区块存放：<strong>65536</strong> 个方块。按照默认设置，地图总共会有：</p><p>((2 * max-world-size) ^ 2) * max-build-height = 921599016960262144</p><p>个方块，也就是 14062485000004 个区块。</p><p>按照一个高度为256的区块在磁盘中的存储大小约为：4M 来计算，共需要磁盘空间约为：53644124 GB</p><p>所以，要开一个可维护的Minecraft服务器，需要控制好磁盘使用。就必须有一个磁盘容量上限。按目前云服务器一般配备50GB磁盘空间来算，除去10GB系统占用，可供开服存储地图的磁盘空间仅有40GB, 按地图默认高度max-build-height=256计算，地图的最大半径值为：max-world-size=810 这是假设玩家会经过所有方块的场景的理想情况。显然这种计算是不符合实际情况的。假设一个方块地图玩家只会经过其中的10%，那么max-world-size=2561。这显然，也不能反映实际情况。所以需要统计一下，区块使用率，用来指导设置世界大小</p><hr><h2 id=地图备份文件占用磁盘太大解决方案 class=relative>地图备份文件占用磁盘太大解决方案<a href=#%e5%9c%b0%e5%9b%be%e5%a4%87%e4%bb%bd%e6%96%87%e4%bb%b6%e5%8d%a0%e7%94%a8%e7%a3%81%e7%9b%98%e5%a4%aa%e5%a4%a7%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88 aria-label=链接到本节 class="anchor-link ml2 gray hover-dark-gray">🔗</a></h2><p>目前服务器托管平台，提供自动优化地图大小的能力。地图中玩家没有呆过的区块会被不定时的清理掉，保证地图文件的大小可控。
如果你的地图文件太大，可以使用工具
<a href=https://github.com/Querz/mcaselector target=_blank rel="noopener noreferrer">mcaselector</a>
进行区域按条件筛选后，
进行删除，可以显著减小地图文件占用空间。</p><p><a href=https://github.com/Querz/mcaselector/releases target=_blank rel="noopener noreferrer">mcaselector 下载地址</a></p><p>可以使用CLI命令行模式进行操作，参考文档：
<a href=https://github.com/Querz/mcaselector/wiki/CLI-Mode target=_blank rel="noopener noreferrer">mcaselector CLI 模式</a></p><p>备份地图的命令：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#6272a4># 仅导出玩家待了5分钟以上的方块</span>
</span></span><span style=display:flex><span>java -jar                           <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span><span style=color:#f1fa8c></span>    mcaselector-2.5.3.jar           <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span><span style=color:#f1fa8c></span>    --mode <span style=color:#8be9fd;font-style:italic>export</span>                   <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span><span style=color:#f1fa8c></span>    --query <span style=color:#f1fa8c>&#34;InhabitedTime &gt; 5min&#34;</span>  <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span><span style=color:#f1fa8c></span>    --world &lt;directory_of_world&gt;    <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span><span style=color:#f1fa8c></span>    --output-world &lt;directory_for_backup&gt;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#6272a4># 在原始地图上直接操作，删除所有玩家没待满5分钟以上的方块</span>
</span></span><span style=display:flex><span>java -jar                           <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span><span style=color:#f1fa8c></span>    mcaselector-2.5.3.jar           <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span><span style=color:#f1fa8c></span>    --mode delete                   <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span><span style=color:#f1fa8c></span>    --query <span style=color:#f1fa8c>&#34;InhabitedTime &lt;= 5min&#34;</span> <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span><span style=color:#f1fa8c></span>    --world &lt;directory_of_world&gt;
</span></span></code></pre></div><p>CLI命令使用参数速查图：</p><p><img src=https://gist.githubusercontent.com/Querz/5e08c4ab863c2ad8b5da146dc4188ecb/raw/efc4b6990bce79ed4512e9a0a363c64afd7b7444/commands-diagram.png alt="mcaselector cheatsheet" loading=lazy decoding=async class=mw-100 referrerpolicy=no-referrer sizes="(max-width: 768px) 100vw, 1200px"></p></section></div><footer class="ph3 ph5-l pv3 pv4-l"><div class="flex justify-between"><a class="link dim" href=/posts/2.server/24.bedrock_server/>← Minecraft 基岩版服务端</a>
<a class="link dim" href=/posts/3.other/32.minecraft_resources/>相关资源链接 →</a></div></footer></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href=https://minecraft.jokerhub.cn/>&copy; Joker@Minecraft 🇨🇳 2025</a><div><div class=ananke-socials><a href=https://pd.qq.com/s/9zuis6m4v target=_blank rel=noopener class="ananke-social-link link-transition qq link dib z-999 pt3 pt0-l mr1" title="follow on QQ - Opens in a new window" aria-label="follow on QQ - Opens in a new window"><span class=icon><svg viewBox="0 0 448 512"><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741.0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792.0.0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z"/></svg>
</span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg>
</span></a><a href=https://discord.gg/9JAb9vpvUE target=_blank rel=noopener class="ananke-social-link link-transition discord link dib z-999 pt3 pt0-l mr1" title="follow on Discord - Opens in a new window" aria-label="follow on Discord - Opens in a new window"><span class=icon><svg viewBox="0 0 640 512"><path d="M524.531 69.836a1.5 1.5.0 00-.764-.7A485.065 485.065.0 00404.081 32.03a1.816 1.816.0 00-1.923.91 337.461 337.461.0 00-14.9 30.6 447.848 447.848.0 00-134.426.0 309.541 309.541.0 00-15.135-30.6 1.89 1.89.0 00-1.924-.91A483.689 483.689.0 00116.085 69.137a1.712 1.712.0 00-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016.0 00.765 1.375A487.666 487.666.0 00176.02 479.918a1.9 1.9.0 002.063-.676A348.2 348.2.0 00208.12 430.4a1.86 1.86.0 00-1.019-2.588 321.173 321.173.0 01-45.868-21.853 1.885 1.885.0 01-.185-3.126c3.082-2.309 6.166-4.711 9.109-7.137a1.819 1.819.0 011.9-.256c96.229 43.917 200.41 43.917 295.5.0a1.812 1.812.0 011.924.233c2.944 2.426 6.027 4.851 9.132 7.16a1.884 1.884.0 01-.162 3.126 301.407 301.407.0 01-45.89 21.83 1.875 1.875.0 00-1 2.611 391.055 391.055.0 0030.014 48.815 1.864 1.864.0 002.063.7A486.048 486.048.0 00610.7 405.729a1.882 1.882.0 00.765-1.352C623.729 277.594 590.933 167.465 524.531 69.836zM222.491 337.58c-28.972.0-52.844-26.587-52.844-59.239S193.056 219.1 222.491 219.1c29.665.0 53.306 26.82 52.843 59.239.0 32.654-23.41 59.241-52.843 59.241zm195.38.0c-28.971.0-52.843-26.587-52.843-59.239S388.437 219.1 417.871 219.1c29.667.0 53.307 26.82 52.844 59.239.0 32.654-23.177 59.241-52.844 59.241z"/></svg>
</span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg>
</span></a><a href=https://space.bilibili.com/93811391 target=_blank rel=noopener class="ananke-social-link link-transition bilibili link dib z-999 pt3 pt0-l mr1" title="follow on BiliBili - Opens in a new window" aria-label="follow on BiliBili - Opens in a new window"><span class=icon><svg viewBox="0 0 512 512"><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7V372.2C511.5 398.6 502.7 420.3 485.4 437.3c-17.2 17-39.1 25.9-65.5 26.7H92.02C65.57 463.2 43.81 454.2 26.74 436.8 9.682 419.4.7667 396.5.0 368.2V169.8c.7667-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78H121.4L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79.0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1.0 117.9.0c8.8.0 16.1 2.868 21.9 8.603L213.1 78h88L375.6 8.603C381.7 2.868 389.2.0 398 0s16.1 2.868 21.9 8.603C425.6 14.34 428.5 21.6 428.5 30.4 428.5 39.19 425.6 46.46 419.9 52.19L394.6 78h29.3C450.3 78.77 471.9 87.75 488.6 104.1h0zm-38.8 69.7C449.4 164.2 446.1 156.4 439.1 150.3 433.9 144.2 425.1 140.9 416.4 140.5H96.05C86.46 140.9 78.6 144.2 72.47 150.3 66.33 156.4 63.07 164.2 62.69 173.8V368.2C62.69 377.4 65.95 385.2 72.47 391.7S86.85 401.5 96.05 401.5H416.4C425.6 401.5 433.4 398.2 439.7 391.7S449.4 377.4 449.8 368.2V173.8zM185.5 216.5C191.8 222.8 195.2 230.6 195.6 239.7V273C195.2 282.2 191.9 289.9 185.8 296.2 179.6 302.5 171.8 305.7 162.2 305.7 152.6 305.7 144.7 302.5 138.6 296.2S129.2 282.2 128.8 273V239.7C129.2 230.6 132.6 222.8 138.9 216.5 145.2 210.2 152.1 206.9 162.2 206.5 171.4 206.9 179.2 210.2 185.5 216.5h0zm191.5.0C383.3 222.8 386.7 230.6 387.1 239.7V273C386.7 282.2 383.4 289.9 377.3 296.2 371.2 302.5 363.3 305.7 353.7 305.7 344.1 305.7 336.3 302.5 330.1 296.2 323.1 289.9 320.7 282.2 320.4 273V239.7C320.7 230.6 324.1 222.8 330.4 216.5 336.7 210.2 344.5 206.9 353.7 206.5 362.9 206.9 370.7 210.2 377 216.5h0z"/></svg>
</span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg>
</span></a><a href=https://www.youtube.com/@OrzGeeker5382 target=_blank rel=noopener class="ananke-social-link link-transition youtube link dib z-999 pt3 pt0-l mr1" title="follow on YouTube - Opens in a new window" aria-label="follow on YouTube - Opens in a new window"><span class=icon><svg viewBox="0 0 576 512"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78.0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
</span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg>
</span></a><a href=https://x.com/OrzGeeker target=_blank rel=noopener class="ananke-social-link link-transition x-twitter link dib z-999 pt3 pt0-l mr1" title="follow on X - Opens in a new window" aria-label="follow on X - Opens in a new window"><span class=icon><svg viewBox="0 0 512 512"><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg>
</span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg>
</span></a><a href=https://github.com/OrzGeeker/OrzMC/ target=_blank rel=noopener class="ananke-social-link link-transition github link dib z-999 pt3 pt0-l mr1" title="follow on GitHub - Opens in a new window" aria-label="follow on GitHub - Opens in a new window"><span class=icon><svg viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a></div></div></div></footer></body></html>